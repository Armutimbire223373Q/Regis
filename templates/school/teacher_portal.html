{% extends 'base.html' %}
{% load static %}

{% block title %}Teacher Portal - Regisbridge Private School{% endblock %}

{% block content %}
<div class="container mt-4">
    <header class="text-center mb-5">
        <h1 class="display-4 fw-bold">Teacher Portal</h1>
        <p class="lead text-muted">Welcome, {{ user.get_full_name|default:user.username }}</p>
    </header>

    <div class="row">
        <!-- Main Content -->
        <div class="col-lg-8">
            <!-- Class Overview -->
            <div class="card mb-4">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h2 class="h4 mb-0">Class Overview</h2>
                    <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#classDetailsModal">
                        View Details
                    </button>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="class-info">
                                <h5>Mathematics - Grade 10A</h5>
                                <p class="text-muted">25 Students</p>
                                <div class="progress mb-3">
                                    <div class="progress-bar" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">75% Average Score</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="class-stats">
                                <h5>Class Statistics</h5>
                                <div class="d-flex justify-content-between">
                                    <span>Attendance Rate:</span>
                                    <span class="fw-bold">92%</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span>Assignments Due:</span>
                                    <span class="fw-bold">3</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gradebook -->
            <div class="card mb-4">
                <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                    <h2 class="h4 mb-0">Gradebook</h2>
                    <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addGradeModal">
                        Add Grade
                    </button>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Student</th>
                                    <th>Assignment 1</th>
                                    <th>Assignment 2</th>
                                    <th>Midterm</th>
                                    <th>Final</th>
                                    <th>Average</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>John Doe</td>
                                    <td>A</td>
                                    <td>A-</td>
                                    <td>B+</td>
                                    <td>A</td>
                                    <td>A-</td>
                                </tr>
                                <tr>
                                    <td>Jane Smith</td>
                                    <td>B+</td>
                                    <td>B</td>
                                    <td>B+</td>
                                    <td>A-</td>
                                    <td>B+</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Attendance Tracking -->
            <div class="card mb-4">
                <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                    <h2 class="h4 mb-0">Attendance Tracking</h2>
                    <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#takeAttendanceModal">
                        Take Attendance
                    </button>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Student</th>
                                    <th>Mon</th>
                                    <th>Tue</th>
                                    <th>Wed</th>
                                    <th>Thu</th>
                                    <th>Fri</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>John Doe</td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-danger">A</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td>80%</td>
                                </tr>
                                <tr>
                                    <td>Jane Smith</td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td><span class="badge bg-success">P</span></td>
                                    <td>100%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Lesson Planning -->
            <div class="card mb-4">
                <div class="card-header bg-warning text-dark">
                    <h2 class="h4 mb-0">Lesson Planning</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="lesson-card">
                                <h5>Monday - March 15</h5>
                                <p class="text-muted">Algebra: Quadratic Equations</p>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Lecture</li>
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Practice Problems</li>
                                    <li><i class="fas fa-circle text-warning me-2"></i>Group Activity</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="lesson-card">
                                <h5>Wednesday - March 17</h5>
                                <p class="text-muted">Geometry: Triangles</p>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check-circle text-success me-2"></i>Lecture</li>
                                    <li><i class="fas fa-circle text-warning me-2"></i>Practice Problems</li>
                                    <li><i class="fas fa-circle text-warning me-2"></i>Quiz</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <!-- Quick Actions -->
            <div class="card mb-4">
                <div class="card-header bg-secondary text-white">
                    <h2 class="h4 mb-0">Quick Actions</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-plus me-2"></i>Create New Assignment
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-calendar me-2"></i>Schedule Class
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-envelope me-2"></i>Send Announcement
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-chart-bar me-2"></i>View Analytics
                        </a>
                    </div>
                </div>
            </div>

            <!-- Resources -->
            <div class="card mb-4">
                <div class="card-header bg-danger text-white">
                    <h2 class="h4 mb-0">Teaching Resources</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-book me-2"></i>Curriculum Materials
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-file-alt me-2"></i>Lesson Plans
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-chalkboard-teacher me-2"></i>Teaching Guides
                        </a>
                    </div>
                </div>
            </div>

            <!-- Calendar -->
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">Upcoming Events</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <div class="list-group-item">
                            <small class="text-muted">March 20, 2024</small>
                            <p class="mb-1">Parent-Teacher Meeting</p>
                        </div>
                        <div class="list-group-item">
                            <small class="text-muted">March 25, 2024</small>
                            <p class="mb-1">Staff Development Day</p>
                        </div>
                        <div class="list-group-item">
                            <small class="text-muted">April 5, 2024</small>
                            <p class="mb-1">End of Term Assessment</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Class Details Modal -->
<div class="modal fade" id="classDetailsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Class Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Class Information</h6>
                        <p><strong>Subject:</strong> Mathematics</p>
                        <p><strong>Grade:</strong> 10</p>
                        <p><strong>Section:</strong> A</p>
                        <p><strong>Room:</strong> 101</p>
                        <p><strong>Schedule:</strong> Mon, Wed, Fri 9:00 AM</p>
                    </div>
                    <div class="col-md-6">
                        <h6>Performance Metrics</h6>
                        <p><strong>Average Grade:</strong> B+</p>
                        <p><strong>Attendance Rate:</strong> 92%</p>
                        <p><strong>Assignments Completed:</strong> 85%</p>
                        <p><strong>Top Student:</strong> John Doe (A)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Grade Modal -->
<div class="modal fade" id="addGradeModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Grade</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Student</label>
                        <select class="form-select">
                            <option>John Doe</option>
                            <option>Jane Smith</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Assignment</label>
                        <select class="form-select">
                            <option>Assignment 1</option>
                            <option>Assignment 2</option>
                            <option>Midterm</option>
                            <option>Final</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Grade</label>
                        <select class="form-select">
                            <option>A</option>
                            <option>A-</option>
                            <option>B+</option>
                            <option>B</option>
                            <option>B-</option>
                            <option>C+</option>
                            <option>C</option>
                            <option>C-</option>
                            <option>D</option>
                            <option>F</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Comments</label>
                        <textarea class="form-control" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Grade</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Take Attendance Modal -->
<div class="modal fade" id="takeAttendanceModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Take Attendance</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Date</label>
                        <input type="date" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Students</label>
                        <div class="list-group">
                            <div class="list-group-item">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="student1">
                                    <label class="form-check-label" for="student1">John Doe</label>
                                </div>
                            </div>
                            <div class="list-group-item">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="student2">
                                    <label class="form-check-label" for="student2">Jane Smith</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Submit Attendance</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .class-info {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }
    
    .class-stats {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }
    
    .progress {
        height: 10px;
    }
    
    .list-group-item {
        border-left: none;
        border-right: none;
    }
    
    .list-group-item:first-child {
        border-top: none;
    }
    
    .list-group-item:last-child {
        border-bottom: none;
    }
    
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
    
    .lesson-card {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        height: 100%;
    }
</style>
{% endblock %} 