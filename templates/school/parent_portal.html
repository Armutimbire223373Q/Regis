{% extends 'base.html' %}
{% load static %}

{% block title %}Parent Portal - Regisbridge Private School{% endblock %}

{% block content %}
<div class="container mt-4">
    <header class="text-center mb-5">
        <h1 class="display-4 fw-bold">Parent Portal</h1>
        <p class="lead text-muted">Welcome, {{ user.get_full_name|default:user.username }}</p>
    </header>

    <div class="row">
        <!-- Main Content -->
        <div class="col-lg-8">
            <!-- Student Overview -->
            <div class="card mb-4">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h2 class="h4 mb-0">Student Overview</h2>
                    <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#studentDetailsModal">
                        View Details
                    </button>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="student-info">
                                <h5>John Doe</h5>
                                <p class="text-muted">Grade 10, Section A</p>
                                <div class="progress mb-3">
                                    <div class="progress-bar" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">85% Attendance</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="academic-stats">
                                <h5>Academic Performance</h5>
                                <div class="d-flex justify-content-between">
                                    <span>Current GPA:</span>
                                    <span class="fw-bold">3.8</span>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <span>Last Report Card:</span>
                                    <span class="fw-bold">A-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Communication Center -->
            <div class="card mb-4">
                <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
                    <h2 class="h4 mb-0">Communication Center</h2>
                    <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#newMessageModal">
                        New Message
                    </button>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <div class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="mb-1">From: Mrs. Johnson (Mathematics)</h5>
                                <small class="text-muted">March 10, 2024</small>
                            </div>
                            <p class="mb-1">Regarding: Upcoming Parent-Teacher Meeting</p>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Message</a>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <h5 class="mb-1">From: School Administration</h5>
                                <small class="text-muted">March 8, 2024</small>
                            </div>
                            <p class="mb-1">Regarding: School Holiday Notice</p>
                            <a href="#" class="btn btn-sm btn-outline-primary">View Message</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fee Payment Status -->
            <div class="card mb-4">
                <div class="card-header bg-info text-white">
                    <h2 class="h4 mb-0">Fee Payment Status</h2>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Term</th>
                                    <th>Due Date</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Term 2, 2024</td>
                                    <td>March 1, 2024</td>
                                    <td>$2,500</td>
                                    <td><span class="badge bg-success">Paid</span></td>
                                    <td><a href="#" class="btn btn-sm btn-outline-primary">View Receipt</a></td>
                                </tr>
                                <tr>
                                    <td>Term 3, 2024</td>
                                    <td>June 1, 2024</td>
                                    <td>$2,500</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                    <td><a href="#" class="btn btn-sm btn-primary">Pay Now</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Progress Tracking -->
            <div class="card mb-4">
                <div class="card-header bg-warning text-dark">
                    <h2 class="h4 mb-0">Progress Tracking</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="progress-card">
                                <h5>Mathematics</h5>
                                <div class="progress mb-2">
                                    <div class="progress-bar" style="width: 90%">90%</div>
                                </div>
                                <p class="text-muted">Last Assessment: A</p>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="progress-card">
                                <h5>Science</h5>
                                <div class="progress mb-2">
                                    <div class="progress-bar" style="width: 85%">85%</div>
                                </div>
                                <p class="text-muted">Last Assessment: A-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <!-- Quick Actions -->
            <div class="card mb-4">
                <div class="card-header bg-secondary text-white">
                    <h2 class="h4 mb-0">Quick Actions</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-calendar me-2"></i>View Academic Calendar
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-file-alt me-2"></i>Download Report Card
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-envelope me-2"></i>Contact Teachers
                        </a>
                        <a href="#" class="list-group-item list-group-item-action">
                            <i class="fas fa-bus me-2"></i>Transport Schedule
                        </a>
                    </div>
                </div>
            </div>

            <!-- Upcoming Events -->
            <div class="card mb-4">
                <div class="card-header bg-danger text-white">
                    <h2 class="h4 mb-0">Upcoming Events</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <div class="list-group-item">
                            <small class="text-muted">March 20, 2024</small>
                            <p class="mb-1">Parent-Teacher Meeting</p>
                            <a href="#" class="btn btn-sm btn-outline-danger">RSVP</a>
                        </div>
                        <div class="list-group-item">
                            <small class="text-muted">March 25, 2024</small>
                            <p class="mb-1">Independence Day Holiday</p>
                        </div>
                        <div class="list-group-item">
                            <small class="text-muted">April 5, 2024</small>
                            <p class="mb-1">Sports Day</p>
                            <a href="#" class="btn btn-sm btn-outline-danger">Register</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">Important Contacts</h2>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <div class="list-group-item">
                            <h6 class="mb-1">Class Teacher</h6>
                            <p class="mb-1">Mrs. Johnson</p>
                            <small class="text-muted">johnson@regisbridge.edu</small>
                        </div>
                        <div class="list-group-item">
                            <h6 class="mb-1">School Office</h6>
                            <p class="mb-1">+1 (555) 123-4567</p>
                            <small class="text-muted">office@regisbridge.edu</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Student Details Modal -->
<div class="modal fade" id="studentDetailsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Student Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Personal Information</h6>
                        <p><strong>Name:</strong> John Doe</p>
                        <p><strong>Grade:</strong> 10</p>
                        <p><strong>Section:</strong> A</p>
                        <p><strong>Admission Date:</strong> September 1, 2023</p>
                    </div>
                    <div class="col-md-6">
                        <h6>Academic Information</h6>
                        <p><strong>Current GPA:</strong> 3.8</p>
                        <p><strong>Attendance Rate:</strong> 95%</p>
                        <p><strong>Class Rank:</strong> 5/30</p>
                        <p><strong>Extracurricular:</strong> Sports Club, Music Society</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- New Message Modal -->
<div class="modal fade" id="newMessageModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">New Message</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Recipient</label>
                        <select class="form-select">
                            <option>Class Teacher</option>
                            <option>School Administration</option>
                            <option>Transport Department</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Subject</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Message</label>
                        <textarea class="form-control" rows="4"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .student-info {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }
    
    .academic-stats {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
    }
    
    .progress {
        height: 10px;
    }
    
    .list-group-item {
        border-left: none;
        border-right: none;
    }
    
    .list-group-item:first-child {
        border-top: none;
    }
    
    .list-group-item:last-child {
        border-bottom: none;
    }
    
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
    
    .progress-card {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        height: 100%;
    }
</style>
{% endblock %} 