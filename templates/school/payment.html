{% extends 'base.html' %}
{% load static %}

{% block title %}Online Payment - Regisbridge Private School{% endblock %}

{% block content %}
<div class="container mt-4">
    <header class="text-center mb-5">
        <img src="{% static 'images/payment-header.jpg' %}" class="img-fluid rounded mb-4" alt="Online Payment">
        <h1 class="display-4 fw-bold">Online Payment</h1>
        <p class="lead text-muted">Secure and convenient payment options for school fees and other charges</p>
    </header>
    
    <div class="row">
        <div class="col-lg-8">
            <div class="card mb-4">
                <div class="card-header bg-primary text-white">
                    <h2 class="h4 mb-0">Payment Methods</h2>
                </div>
                <div class="card-body">
                    {% for method in methods %}
                    <div class="payment-method mb-4">
                        <h5>{{ method.name }}</h5>
                        <p>{{ method.description }}</p>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>Instructions:
                            <div class="mt-2">{{ method.instructions|linebreaks }}</div>
                        </div>
                    </div>
                    {% if not forloop.last %}<hr>{% endif %}
                    {% empty %}
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>No payment methods available.
                    </div>
                    {% endfor %}
                </div>
            </div>
            
            <div class="card mb-4">
                <div class="card-header bg-success text-white">
                    <h2 class="h4 mb-0">Bank Transfer Details</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="bank-details">
                                <h5>Local Bank Transfer</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Bank Name:</strong> Zimbabwe Bank</li>
                                    <li><strong>Account Name:</strong> Regisbridge Private School</li>
                                    <li><strong>Account Number:</strong> 1234567890</li>
                                    <li><strong>Branch Code:</strong> 001</li>
                                    <li><strong>Swift Code:</strong> ZBWHRH22</li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="bank-details">
                                <h5>International Bank Transfer</h5>
                                <ul class="list-unstyled">
                                    <li><strong>Bank Name:</strong> International Bank</li>
                                    <li><strong>Account Name:</strong> Regisbridge Private School</li>
                                    <li><strong>Account Number:</strong> 0987654321</li>
                                    <li><strong>Swift Code:</strong> INTLZW22</li>
                                    <li><strong>IBAN:</strong> ZW123456789</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card mb-4">
                <div class="card-header bg-info text-white">
                    <h2 class="h4 mb-0">EcoCash Payments</h2>
                </div>
                <div class="card-body">
                    <div class="text-center mb-4">
                        <img src="{% static 'images/ecocash-logo.png' %}" alt="EcoCash" class="img-fluid" style="max-width: 200px;">
                    </div>
                    <div class="alert alert-success">
                        <i class="fas fa-mobile-alt me-2"></i>EcoCash Merchant Code:
                        <h4 class="text-center my-3">*151*2*2*123456#</h4>
                    </div>
                    <p>Follow these steps:</p>
                    <ol>
                        <li>Dial *151# on your phone</li>
                        <li>Select "Pay Merchant"</li>
                        <li>Enter our merchant code</li>
                        <li>Enter the amount</li>
                        <li>Enter your PIN</li>
                        <li>Confirm payment</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4">
                <div class="card-header bg-warning text-dark">
                    <h2 class="h4 mb-0">Payment Support</h2>
                </div>
                <div class="card-body">
                    <p>Need help with your payment?</p>
                    <ul class="list-unstyled">
                        <li class="mb-2"><i class="fas fa-phone me-2"></i>+1 (555) 789-0123</li>
                        <li class="mb-2"><i class="fas fa-envelope me-2"></i>payments@regisbridge.edu</li>
                        <li><i class="fas fa-clock me-2"></i>Mon-Fri, 8:00 AM - 4:30 PM</li>
                    </ul>
                    <div class="mt-3">
                        <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#paymentSupportModal">
                            <i class="fas fa-question-circle me-2"></i>Payment FAQ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Payment FAQ Modal -->
<div class="modal fade" id="paymentSupportModal" tabindex="-1" aria-labelledby="paymentSupportModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="paymentSupportModalLabel">Payment FAQ</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="accordion" id="paymentFAQ">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                When are fees due?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse show">
                            <div class="accordion-body">
                                School fees are due before the start of each term. Late payments may incur additional charges.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                How do I confirm my payment?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                After making a payment, please email your proof of payment to payments@regisbridge.edu. Include your child's name and grade in the email.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                Are there payment plans available?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse">
                            <div class="accordion-body">
                                Yes, we offer flexible payment plans. Please contact our finance office to discuss available options.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .payment-method {
        background-color: #fff;
        border-radius: 5px;
    }
    
    .bank-details {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
        height: 100%;
    }
    
    .bank-details ul li {
        margin-bottom: 10px;
    }
    
    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
    
    .accordion-button:not(.collapsed) {
        background-color: #e7f1ff;
        color: #0d6efd;
    }
</style>
{% endblock %} 